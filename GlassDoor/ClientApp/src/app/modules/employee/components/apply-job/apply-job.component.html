<div class="container mt-5">
  <div class="row">
    <div class="col-8">
      <div class="card shadow mb-3">
        <div class="card-body" [routerLink]="['/employee/apply/',job.id]">
          <div class="row px-1 ps-md-4 pe-md-3 py-3 align-items-center">
            <div class="col-2">
              <img [src]="job.logo" class="img-fluid shadow" alt="company logo">
            </div>
            <div class="col-10">
              <div class="row">
                <div class="col">
                  <h3 class="card-text text-dark fw-bold">{{job.jobTitle}}</h3>
                </div>
              </div>
              <div class="row mt-2">
                <div class="col-4">
                  <h4 class="card-title text-primary">{{job.companyName}}</h4>
                  <span class="badge bg-success">{{job.category}}</span>
                </div>

                <div class="col-4">
                  <p class="card-text text-center"><i class="bi bi-geo-alt-fill"></i> {{job.jobCity}} , {{job.jobCountry}}</p>
                </div>

                <div *ngIf="job.salaryMin != null && job.salaryMax != null" class="col-4">
                  <p class="card-text text-center mb-0">{{job.salaryCurrencySymbol}} {{job.salaryMin}} - {{job.salaryCurrencySymbol}} {{job.salaryMax}}</p>
                  <p class="card-text text-center">{{job.salaryRate}}</p>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-content">
              <div class="card-body">
                <h4 class="card-title">Job Description</h4>
                <p class="card-text" [innerHTML]="job.description">

                </p>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-content">
              <div class="card-body">
                <h4 class="card-title">Job Requirements</h4>
                <p class="card-text" [innerHTML]="job.requirements">

                </p>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-content">
              <div class="card-body">
                <h4 class="card-title">Job Responsibilities</h4>
                <p class="card-text" [innerHTML]="job.responsibilities">

                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-4">

      <div class="card">
        <div class="card-content">
          <div class="card-body">
            <h4 class="card-title mb-2">Job Overview</h4>
            <hr />
            <p class="card-text">
              <span class="fw-bold text-black-50">Posted date :</span> {{job.createdDate | date}}
            </p>
            <p class="card-text">
              <span class="fw-bold text-black-50" *ngIf="true">Vacancy :</span> {{job.vacancies}}
            </p>
            <p class="card-text">
              <span class="fw-bold text-black-50"> Job nature :</span> {{job.jobType}}
            </p>
            <p class="card-text" *ngIf="job.salaryMin != null && job.salaryMax != null">
              <span class="fw-bold text-black-50"> Salary :</span> {{job.salaryCurrencySymbol}} {{job.salaryMin}} - {{job.salaryCurrencySymbol}} {{job.salaryMax}} {{job.salaryRate}}
            </p>
            <p class="card-text" *ngIf="job.experienceNeededMin != null && job.experienceNeededMax != null">
              <span class="fw-bold text-black-50">Experience :</span> {{job.experienceNeededMin}} - {{job.experienceNeededMax}} years
            </p>
            <p class="card-text">
              <span class="fw-bold text-black-50"> Career Level :</span> {{job.careerLevelName}}
            </p>
            <p class="card-text">
              <span class="fw-bold text-black-50">Education Level :</span> {{job.educationLevelName}}
            </p>

            <button type="button" class="btn btn-primary mx-auto d-block" *ngIf="!job.applied" (click)="apply()">Apply Now</button>
            <span class="badge bg-secondary mx-auto d-block py-2" *ngIf="job.applied">Applied</span>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-content">
          <div class="card-body">
            <h4 class="card-title mb-2">Skills And Tools</h4>
            <hr />
            <span class="badge bg-light-secondary mx-2 py-2 mb-2" *ngFor="let skill of job.skillsNames">
              <i [ngClass]="{'bi-check-circle-fill text-success': skill.match , 'bi-exclamation-circle-fill text-secondary' : !skill.match}" class="bi me-2"></i>{{skill.name}}
            </span>

          </div>
        </div>
      </div>

      <!--<div class="card">
        <div class="card-content">
          <div class="card-body">
            <h4 class="card-title mb-2">Company Information</h4>
            <hr />
            <p class="card-text">{{job.companyName}}</p>
            <p class="card-text">b</p>
            <p class="card-text">c</p>
            <p class="card-text">d</p>
          </div>
        </div>
      </div>-->
    </div>
  </div>
</div>
